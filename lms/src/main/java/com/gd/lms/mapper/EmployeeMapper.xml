<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gd.lms.mapper.EmployeeMapper">

	<!-- 관리자 회원가입 -->
	<insert id="insertEmployee"
		parameterType="com.gd.lms.vo.Employee">
		INSERT INTO employee
		(
		employee_no,
		employee_pass,
		employee_name,
		employee_regi_no,
		employee_age,
		employee_gender,
		employee_telephone,
		employee_email,
		employee_address,
		employee_detail_address,
		create_date,
		update_date
		)
		VALUES
		(
		#{employeeNo},
		#{employeePass},
		#{employeeName},
		#{employeeRegiNo},
		#{employeeAge},
		#{employeeGender},
		#{employeeTelephone},
		#{employeeEmail},
		#{employeeAddress},
		#{employeeDetailAddress},
		
		NOW(),
		NOW()
		)
	</insert>

	<!-- 관리자 로그인 -->
	<select id="getEmployee" resultType="com.gd.lms.vo.Employee"
		parameterType="com.gd.lms.vo.Employee">
		SELECT
		employee_no employeeNo
		, employee_pass employeePass
		, employee_name employeeName
		, employee_regi_no employeeRegiNo
		, employee_age employeeAge
		, employee_gender employeeGender
		, employee_telephone employeeTelephone
		, employee_email employeeEmail
		, employee_address employeeAddress
		, employee_detail_address employeeDetailAddress
		, salary_no salaryNo
		FROM
			employee
		WHERE 
			employee_no = #{employeeNo}

		AND 
			employee_pass = #{employeePass}
	</select>
	
	<!-- 관리자 목록 -->
	<select id="selectEmployeeList" resultType="map">
		
		SELECT
		employee_no employeeNo
		,employee_pass employeePass
		,employee_name employeeName
		,employee_regi_no employeeRegiNo
		,employee_age employeeAge
		,employee_gender employeeGender
		,employee_telephone employeeTelephone
		,employee_email employeeEmail
		,employee_address employeeAddress
		,employee_detail_address employeeDetailAddress
		,employee_state employeeState
		,employee_active employeeActive
		,salary_no salaryNo
		
		FROM employee

	</select>
	
	<!-- 관리자 정보 상세보기 -->
	<select id="selectEmployeeOne"  parameterType="int" resultType="Map">
		
		SELECT 
		e.employee_no employeeNo
		,e.employee_pass employeePass
		,e.employee_name employeeName
		,e.employee_regi_no employeeRegiNo
		,e.employee_age employeeAge
		,e.employee_gender employeeGender
		,e.employee_telephone employeeTelephone
		,e.employee_email employeeEmail
		,e.employee_address employeeAddress
		,e.employee_detail_address employeeDetailAddress
		,e.employee_state employeeState
		,e.employee_active employeeActive
		,s.salary_no salaryNo
		,ei.filename fileName
		
		FROM employee e LEFT JOIN salary s
		ON e.salary_no = s.salary_no
		LEFT JOIN employee_img ei
		ON e.employee_no = ei.employee_no
		WHERE e.employee_no = #{employeeNo}

	</select>
	  
	



</mapper>